<script>

    let key;
	let code;

	function handleKeydown(event) {
		key = event.key;
		code = event.code;
	}

    let mapa = [
        [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
        [1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
        [1,1,0,1,1,1,1,1,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1],
        [1,1,0,1,0,0,0,1,0,1,1,0,1,1,1,0,0,0,1,0,0,1,1,1,1,1,1,1,1,0,0,1],
        [1,1,0,1,0,1,0,1,0,1,0,0,1,1,1,0,1,1,1,1,0,0,1,1,1,1,1,1,1,1,0,1],
        [1,1,0,0,0,1,0,1,0,0,0,0,0,0,0,0,1,2,2,1,1,0,0,1,1,1,1,1,0,0,0,1],
        [1,1,0,1,1,1,0,1,0,1,1,1,1,1,1,0,1,2,2,2,1,1,0,0,1,1,0,0,0,1,1,1],
        [1,1,0,0,0,0,0,1,0,1,2,2,2,2,2,0,2,2,2,2,1,1,1,0,0,1,0,1,1,1,1,1],
        [1,1,0,1,1,1,1,1,0,1,1,1,1,1,1,0,2,2,2,2,1,1,1,1,0,1,0,1,1,1,1,1],
        [1,1,0,1,1,0,0,0,0,1,0,0,0,0,0,0,2,2,2,2,1,1,1,1,0,1,0,1,1,1,1,1],
        [1,1,0,0,0,0,1,1,1,1,0,1,1,0,1,2,2,2,2,2,1,1,1,1,0,1,0,1,1,1,1,1],
        [1,1,1,1,1,1,1,0,0,0,0,1,1,0,1,2,2,2,2,2,1,1,1,1,0,0,0,0,0,0,1,1],
        [1,1,0,0,0,0,0,0,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1],
        [1,1,1,1,1,1,1,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1],
        [1,1,1,1,1,1,1,0,1,1,1,0,0,1,0,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,1,1],
        [1,1,1,2,2,2,2,0,1,1,0,0,1,1,1,0,0,1,0,0,1,1,1,1,1,1,1,1,1,0,1,1],
        [1,1,1,2,2,2,2,0,1,0,0,1,1,1,1,1,0,0,1,0,0,1,1,1,1,1,1,1,1,0,1,1],
        [1,1,1,2,2,2,2,0,0,0,1,1,1,1,1,1,1,0,1,1,0,0,1,1,1,1,1,1,1,0,1,1],
        [1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,0,1,1,1,0,0,1,1,1,1,1,1,0,1,1],
        [1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,0,1,1,1,1,0,1,1,1,1,1,1,0,1,1],
        [1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1],
        [1,1,1,1,1,1,1,0,0,1,0,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,0,0,1,1],
        [1,1,1,1,1,1,0,0,1,1,0,1,1,1,1,1,1,1,1,0,0,2,2,2,2,2,1,0,0,1,1,1],
        [1,1,1,1,1,0,0,1,1,1,0,1,1,1,1,1,1,1,1,1,0,0,2,2,2,2,0,0,1,1,1,1],
        [1,1,1,1,1,0,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,0,2,2,2,2,0,1,1,1,1,1]
    ]
    </script>
    <table class='mapa'>
        {#each mapa as regiao,i}
            <tr class='linhasdatabela'>
                {#each regiao as estrada,j}
                    {#if (mapa[eixoY][eixoX] != 0)}
                    {ResertarPosicao()}
                    {:else if (estrada == 0)}
                    <th id="estrada"><img class="tabela" src="{IMGmovimentacao(i,j,eixoX,eixoY)}" alt="estrada"></th>
                    {:else if (estrada == 2)}
                    <th id="vazio" alt="vazio"></th>
                    {:else if (estrada == 1)}
                    <th id="parede"><img class="tabela" src="/css/imagens/parede.jpg" alt="parede"></th>
                    {/if}
                {/each}
            </tr>
        {/each}
    </table>